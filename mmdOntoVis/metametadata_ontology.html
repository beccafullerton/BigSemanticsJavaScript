<!DOCTYPE html>
<html>

<head>

<meta charset="UTF-8" />

<link href='http://fonts.googleapis.com/css?family=Roboto:100,300' rel='stylesheet'/>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="d3.v3.min.js" charset="utf-8"></script>

<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"/>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="metametadata_ontology.css"/>
<script type="text/javascript" src="metametadata_ontology.js"></script>

<title>Meta-Metadata Ontology Visualizer</title>

<body>

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <span class="navbar-brand">MetaMetadata Ontology Visualizer</span>
    </div>

    <ul class="nav navbar-nav">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
          Change Root Wrapper <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="#" title="document">document</a></li>
          <li><a href="#" title="metadata">metadata</a></li>
          <li><a href="#" title="creative_work">creative_work</a></li>
          <li><a href="#" title="product">product</a></li>
        </ul>
      </li>
    </ul>
  </div>
</nav>

<div id="viz">
</div>

<script type="text/javascript">
// Utility functions.
var Utils = {};

// Returns the value of a query parameter from the URL.
Utils.getQueryVariable = function(param_name) {
  var query = window.location.search.substring(1);
  var vars = query.split("&");
  for (var i=0; i<vars.length; i++) {
    var pair = vars[i].split("=");
    if (pair[0] == param_name) {
      return pair[1];
    }
  }
  return false;
}

$(document).ready(function() {
  var rootNodeName = Utils.getQueryVariable("root");
  OntoVis.createLayout(rootNodeName);
});

$("ul.dropdown-menu > li > a").click(function(){
  var rootNodeName = $(this).attr("title");
  if (rootNodeName) {
    OntoVis.show(rootNodeName);
  }
});
</script>

</body>
