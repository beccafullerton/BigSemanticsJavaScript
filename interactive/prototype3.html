<html>
	<head>
		<title>InteractiveMetadata Prototype 3</title>
		
		<!-- Styles -->
		<link href="styles/metadataV3.css" rel="stylesheet" type="text/css">
		
		<!-- Code -->
		<script type="text/javascript" src="interactiveMetadata_v3.js"></script>
		<script type="text/javascript" src="testJSON/bluths.js"></script>
		
		<script>
			var levels = [];
			
			function setup() {
				levels["container1"] = 1;
				levels["container2"] = 1;
				
				goldenTest1 = createGolden(0, levels["container1"], "container1");
				cont1 = document.getElementById("container1");
				console.log(cont1);
				cont1.appendChild(goldenTest1);
				
				goldenTest2 = createGolden(0, levels["container2"], "container2");
				document.getElementById("container2").appendChild(goldenTest2);
				
				
			}
		
			function goDeeper(containerId) {
				console.log("going deeper");
				if(levels[containerId] < 5)
					levels[containerId]++;
			
				container = document.getElementById(containerId)
				
				console.log(containerId);
				console.log(container);
				
				while (container.hasChildNodes()) {
				    container.removeChild(container.lastChild);
				}
				
				for(i = levels[containerId] - 1; i >= 0; i--) {
					goldenTest = createGolden(i, levels[containerId], containerId);
					container.appendChild(goldenTest);
				}
			}
			
			function createGolden(index, depth, containerId) {
				div = document.createElement('div');
				div.className = "goldenTest";
				
				div.onclick = function() { goDeeper(containerId) };
				
				switch(depth)
				{
					case 1: div.style.width = "100%";
							div.style.background = "red";
							break;
					case 2: switch(index)
							{
								case 0: div.style.width = "62%";
										div.style.background = "yellow";
										break;
								case 1: div.style.width = "38%";
										div.style.background = "red";
										break;
							}
							break;
					case 3: switch(index)
							{
								case 0: div.style.width = "50%";
										div.style.background = "green";
										break;
								case 1: div.style.width = "31%";
										div.style.background = "yellow";
										break;
								case 2: div.style.width = "19%";
										div.style.background = "red";
										break;
							}
							break;
					case 4: switch(index)
							{
								case 0: div.style.width = "45%";
										div.style.background = "blue";
										break;
								case 1: div.style.width = "28%";
										div.style.background = "green";
										break;
								case 2: div.style.width = "17%";
										div.style.background = "yellow";
										break;
								case 3: div.style.width = "10%";
										div.style.background = "red";
										break;
							}
							break;
					case 5: switch(index)
							{
								case 0: div.style.width = "42%";
										div.style.background = "purple";
										break;
								case 1: div.style.width = "26%";
										div.style.background = "blue";
										break;
								case 2: div.style.width = "16%";
										div.style.background = "green";
										break;
								case 3: div.style.width = "10%";
										div.style.background = "yellow";
										break;
								case 4: div.style.width = "6%";
										div.style.background = "red";
										break;
							}
							break;									
				}
				
				return div;
			}
		</script>
	</head>
	
	<body >
		<div id="container1" style="width: 80%; height: 40%; padding: 0px; background: teal;">
			
		</div>
		
		<div id="container2" style="width: 80%; height: 40%; padding: 0px; background: aqua;">
			
		</div>
		
		<script>
			setup();
		</script>
	</body>
</html>